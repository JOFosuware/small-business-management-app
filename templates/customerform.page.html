{{template "admin" .}} {{define "content"}}
<main id="main" class="main">
  <div class="pagetitle">
    <h1>Contract Form</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/admin/dashboard">Home</a></li>
        <li class="breadcrumb-item">Contract</li>
        <li class="breadcrumb-item active">Form</li>
      </ol>
    </nav>
  </div>
  <!-- End Page Title -->

  <section
    class="section register min-vh-50 d-flex flex-column align-items-center justify-content-center py-4"
  >
    <div class="row justify-content-center">
      <div
        class="col-xl-8 col-lg-10 d-flex flex-column align-items-center justify-content-center"
      >
        {{$meta := index .Data "metadata"}} {{$cust := index .Data "customer"}}
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">{{$meta.Message}}</h5>

            <!-- Customer Entry Form -->
            <form
              action="{{$meta.Url}}"
              method="post"
              enctype="multipart/form-data"
              class="row g-3 needs-validation justify-content-center"
              novalidate
            >
              <input type="hidden" name="csrf_token" value="{{.CSRFToken}}" />
              <input type="hidden" name="cust_id" value="{{$cust.ID}}" />
                <div class="col-12">
                  {{with .Form.Errors.Get "customerId"}}
                  <label class="text-danger">{{.}}</label>
                  {{end}}
                  <input
                    type="text"
                    name="customerId"
                    class="form-control"
                    placeholder="Customer ID"
                    aria-label="Customer ID"
                    id="customerId"
                    value="{{$cust.CustomerId}}"
                    required
                  />
                  <div class="invalid-feedback">Please enter customer Id!</div>
                </div>
                <div class="col-12">
                  {{with .Form.Errors.Get "idtype"}}
                  <label class="text-danger">{{.}}</label>
                  {{end}} {{if $cust.IDType}}
                  <label class="text-danger">Choose ID Type</label>
                  {{end}}
                  <select id="idtype" name="idtype" class="form-select">
                    <option selected>Choose ID Type</option>
                    <option value="votersIdcard">Voter ID</option>
                    <option value="nhisIdcard">NHIS ID</option>
                    <option value="ghanaCard">Ghana Card</option>
                  </select>
                  <div class="invalid-feedback">Please choose ID type!</div>
                </div>
                <div class="col-12">
                  <label for="formFile" class="form-label">Choose Customer Photo</label>
                  <input class="form-control" name="custPhoto" type="file" id="custPhoto">
                  <div class="invalid-feedback">Please choose customer photo!</div>
                </div>
                <div class="col-12">
                  <label for="formFile" class="form-label">Choose ID Card Photo</label>
                  <input class="form-control" name="cardPhoto" type="file" id="cardPhoto">
                  <div class="invalid-feedback">Please choose ID Card photo!</div>
                </div>
                <div class="col-12">
                  {{with .Form.Errors.Get "firstname"}}
                  <label class="text-danger">{{.}}</label>
                  {{end}}
                  <input
                    type="text"
                    name="firstname"
                    class="form-control"
                    placeholder="First name"
                    aria-label="First name"
                    id="firstName"
                    value="{{$cust.FirstName}}"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter customer's first name!
                  </div>
                </div>
                <div class="col-12">
                  {{with .Form.Errors.Get "lastname"}}
                  <label class="text-danger">{{.}}</label>
                  {{end}}
                  <input
                    type="text"
                    name="lastname"
                    class="form-control"
                    placeholder="Last name"
                    aria-label="Last name"
                    id="lastName"
                    value="{{$cust.LastName}}"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter customer's last name!
                  </div>
                </div>

                <div class="col-12">
                  {{with .Form.Errors.Get "houseaddress"}}
                  <label class="text-danger">{{.}}</label>
                  {{end}}
                  <input
                    type="text"
                    name="houseaddress"
                    class="form-control"
                    placeholder="House address"
                    aria-label="House address"
                    id="houseAddress"
                    value="{{$cust.HouseAddress}}"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter customer's house address!
                  </div>
                </div>
                <div class="col-12">
                  {{with .Form.Errors.Get "phone"}}
                  <label class="text-danger">{{.}}</label>
                  {{end}}
                  <input
                    type="text"
                    name="phone"
                    class="form-control"
                    placeholder="Phone"
                    aria-label="Phone"
                    id="phone"
                    value="{{with $cust.Phone}} {{$cust.Phone}}{{end}}"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter customer's phone!
                  </div>
                </div>
                <div class="col-12">
                  {{with .Form.Errors.Get "location"}}
                  <label class="text-danger">{{.}}</label>
                  {{end}}
                  <input
                    type="text"
                    name="location"
                    class="form-control"
                    placeholder="Location"
                    aria-label="Location"
                    id="location"
                    value="{{$cust.Location}}"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter customer's location!
                  </div>
                </div>
                <div class="col-12">
                  {{with .Form.Errors.Get "landmark"}}
                  <label class="text-danger">{{.}}</label>
                  {{end}}
                  <input
                    type="text"
                    name="landmark"
                    class="form-control"
                    placeholder="Landmark"
                    aria-label="Landmark"
                    id="landmark"
                    value="{{$cust.Landmark}}"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter customer's last name!
                  </div>
                </div>
                <div class="col-12">
                  {{with .Form.Errors.Get "months"}}
                  <label class="text-danger">{{.}}</label>
                  {{end}}
                  <input
                    type="text"
                    name="months"
                    class="form-control"
                    placeholder="No. of Months"
                    aria-label="No. of Months"
                    id="numMonth"
                    value="{{if ne $cust.Months 0}} {{$cust.Months}} {{end}}"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter the number of months!
                  </div>
                </div>
                <div class="col-12">
                  {{if $cust.Agreement}}
                  <label class="text-danger"
                    >Check the box if you agree to the terms</label
                  >
                  {{end}}
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="agreement"
                      value="Yes, I agree to the terms"
                    />
                    <label class="form-check-label" for="agreement">
                      Do you agree to the terms and condition?
                    </label>
                  </div>
                </div>
              <div class="col-12">
                <button class="btn btn-primary w-100" type="submit">
                  {{$meta.Button}}
                </button>
              </div>
            </form>
            <!-- End General Form Elements -->
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
<!-- End #main -->
{{end}}
